<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Series Ratings</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .table-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .season {
            margin: 2px 0;
            display: flex;
            align-items: center;
        }

        .episode-label,
        .season-label {
            font-weight: bold;
            margin-right: 10px;
        }

        .episode-label {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .season-label {
            text-align: center;
        }

        .episode-number {
		display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        margin: 2px;
        font-weight: bold;
        font-size: 17px;
        color: #000;
        }

        .episode {
		display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        margin: 2px;
        font-weight: bold;
        font-size: 12px;
        color: #fff;
        }

        .rating-1 { background-color: #ff0000; }
        .rating-2 { background-color: #ff4500; }
        .rating-3 { background-color: #ffa500; }
        .rating-4 { background-color: #ffd700; }
        .rating-5 { background-color: #a0c92e; }
        .rating-6 { background-color: #008000; }
        /* Add more colors or customize as needed */

    </style>
</head>
<body>

    <div class="table-container" id="tableContainer"></div>

    <script>
        // Your JSON data
        const jsonData = [
  {
    "data-season-number": "1",
    "data-episode-number": "1",
    "ratingValue": "8.47031"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "2",
    "ratingValue": "8.59485"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "3",
    "ratingValue": "8.56686"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "4",
    "ratingValue": "8.49702"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "5",
    "ratingValue": "8.49547"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "6",
    "ratingValue": "8.47515"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "7",
    "ratingValue": "8.54475"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "8",
    "ratingValue": "8.52868"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "9",
    "ratingValue": "8.57985"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "10",
    "ratingValue": "8.63511"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "11",
    "ratingValue": "8.50711"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "12",
    "ratingValue": "8.61659"
  },
  {
    "data-season-number": "1",
    "data-episode-number": "13",
    "ratingValue": "8.75394"
  },
    {
    "data-season-number": "2",
    "data-episode-number": "14",
    "ratingValue": "8.60104"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "15",
    "ratingValue": "8.52491"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "16",
    "ratingValue": "8.62254"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "17",
    "ratingValue": "8.57679"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "18",
    "ratingValue": "8.60517"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "19",
    "ratingValue": "8.48108"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "20",
    "ratingValue": "8.49088"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "21",
    "ratingValue": "8.5807"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "22",
    "ratingValue": "8.66011"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "23",
    "ratingValue": "8.54766"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "24",
    "ratingValue": "8.61121"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "25",
    "ratingValue": "8.70057"
  },
  {
    "data-season-number": "2",
    "data-episode-number": "26",
    "ratingValue": "8.75836"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "27",
    "ratingValue": "8.52805"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "28",
    "ratingValue": "8.66472"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "29",
    "ratingValue": "8.67906"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "30",
    "ratingValue": "8.69643"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "31",
    "ratingValue": "8.74612"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "32",
    "ratingValue": "8.57"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "33",
    "ratingValue": "8.56073"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "34",
    "ratingValue": "8.62874"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "35",
    "ratingValue": "8.63221"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "36",
    "ratingValue": "8.64484"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "37",
    "ratingValue": "8.61694"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "38",
    "ratingValue": "8.61866"
  },
  {
    "data-season-number": "3",
    "data-episode-number": "39",
    "ratingValue": "8.8469"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "40",
    "ratingValue": "8.47683"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "41",
    "ratingValue": "8.586"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "42",
    "ratingValue": "8.71739"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "43",
    "ratingValue": "8.60729"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "44",
    "ratingValue": "8.59717"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "45",
    "ratingValue": "8.58487"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "46",
    "ratingValue": "8.59588"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "47",
    "ratingValue": "9.24205"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "48",
    "ratingValue": "8.59592"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "49",
    "ratingValue": "8.7574"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "50",
    "ratingValue": "8.7163"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "51",
    "ratingValue": "8.62677"
  },
  {
    "data-season-number": "4",
    "data-episode-number": "52",
    "ratingValue": "8.90993"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "53",
    "ratingValue": "8.24474"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "54",
    "ratingValue": "8.32868"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "55",
    "ratingValue": "8.31352"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "56",
    "ratingValue": "8.43089"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "57",
    "ratingValue": "8.41201"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "58",
    "ratingValue": "8.5176"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "59",
    "ratingValue": "8.53816"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "60",
    "ratingValue": "8.4188"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "61",
    "ratingValue": "8.40043"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "62",
    "ratingValue": "8.34989"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "63",
    "ratingValue": "8.45217"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "64",
    "ratingValue": "8.41336"
  },
  {
    "data-season-number": "5",
    "data-episode-number": "65",
    "ratingValue": "8.64744"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "66",
    "ratingValue": "8.39496"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "67",
    "ratingValue": "8.29677"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "68",
    "ratingValue": "8.45415"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "69",
    "ratingValue": "8.35111"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "70",
    "ratingValue": "8.32739"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "71",
    "ratingValue": "8.23146"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "72",
    "ratingValue": "8.21395"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "73",
    "ratingValue": "8.18409"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "74",
    "ratingValue": "8.49192"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "75",
    "ratingValue": "8.33491"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "76",
    "ratingValue": "8.34845"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "77",
    "ratingValue": "8.39952"
  },
  {
    "data-season-number": "6",
    "data-episode-number": "78",
    "ratingValue": "8.36408"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "79",
    "ratingValue": "8.05369"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "80",
    "ratingValue": "8.26376"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "81",
    "ratingValue": "8.21831"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "82",
    "ratingValue": "8.25117"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "83",
    "ratingValue": "8.18545"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "84",
    "ratingValue": "8.17943"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "85",
    "ratingValue": "8.22951"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "86",
    "ratingValue": "8.16708"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "87",
    "ratingValue": "8.24163"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "88",
    "ratingValue": "8.79449"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "89",
    "ratingValue": "8.80525"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "90",
    "ratingValue": "8.43427"
  },
  {
    "data-season-number": "7",
    "data-episode-number": "91",
    "ratingValue": "8.40633"
  },
    {
    "data-season-number": "8",
    "data-episode-number": "92",
    "ratingValue": "7.97613"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "93",
    "ratingValue": "8.0736"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "94",
    "ratingValue": "8.12434"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "95",
    "ratingValue": "8.07936"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "96",
    "ratingValue": "8.12228"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "97",
    "ratingValue": "8.40849"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "98",
    "ratingValue": "8.49105"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "99",
    "ratingValue": "8.02459"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "100",
    "ratingValue": "8.0436"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "101",
    "ratingValue": "8.23315"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "102",
    "ratingValue": "8.12536"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "103",
    "ratingValue": "8.47355"
  },
  {
    "data-season-number": "8",
    "data-episode-number": "104",
    "ratingValue": "8.29107"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "105",
    "ratingValue": "7.65894"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "106",
    "ratingValue": "7.27055"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "107",
    "ratingValue": "6.77994"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "108",
    "ratingValue": "6.57962"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "109",
    "ratingValue": "7.71206"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "110",
    "ratingValue": "7.70428"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "111",
    "ratingValue": "7.78516"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "112",
    "ratingValue": "7.64286"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "113",
    "ratingValue": "7.77016"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "114",
    "ratingValue": "7.9102"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "115",
    "ratingValue": "7.96327"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "116",
    "ratingValue": "7.936"
  },
  {
    "data-season-number": "9",
    "data-episode-number": "117",
    "ratingValue": "8.10465"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "118",
    "ratingValue": "7.67382"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "119",
    "ratingValue": "7.64151"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "120",
    "ratingValue": "7.8381"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "121",
    "ratingValue": "7.73529"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "122",
    "ratingValue": "7.59898"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "123",
    "ratingValue": "7.65174"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "124",
    "ratingValue": "7.88"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "125",
    "ratingValue": "7.87805"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "126",
    "ratingValue": "7.69347"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "127",
    "ratingValue": "7.81818"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "128",
    "ratingValue": "7.75789"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "129",
    "ratingValue": "7.93846"
  },
  {
    "data-season-number": "10",
    "data-episode-number": "130",
    "ratingValue": "8.44737"
  }
];

        // Function to create the HTML table
    function getRatingClass(ratingValue) {
        const numericRating = parseFloat(ratingValue);

        if (numericRating >= 6.5 && numericRating < 7) {
            return 'rating-1';
        } else if (numericRating >= 7 && numericRating < 7.5) {
            return 'rating-2';
        } else if (numericRating >= 7.5 && numericRating < 8) {
            return 'rating-3';
        } else if (numericRating >= 8 && numericRating < 8.5) {
            return 'rating-4';
        } else if (numericRating >= 8.5 && numericRating < 9) {
            return 'rating-5';
        } else if (numericRating >= 9 && numericRating < 9.5) {
            return 'rating-6';
        } else {
            // You can adjust this default case based on your requirements
            return 'rating-default';
        }
    }

    // Function to create the HTML table
    function createTable(data) {
        const tableContainer = document.getElementById('tableContainer');

        // Create a map to store data for each season
        const seasonData = new Map();

        // Iterate through the data and organize it by season
        data.forEach(entry => {
            const seasonNumber = entry['data-season-number'];
            const episodeNumber = entry['data-episode-number'];
            const ratingValue = parseFloat(entry['ratingValue']).toFixed(2);

            if (!seasonData.has(seasonNumber)) {
                seasonData.set(seasonNumber, []);
            }

            seasonData.get(seasonNumber).push({ episodeNumber, ratingValue });
        });

        // Create HTML elements for episode numbers
        const episodeNumbersDiv = document.createElement('div');
        episodeNumbersDiv.className = 'season';
        episodeNumbersDiv.innerHTML = '<div class="season-label">Odcinek</div>';

        for (let i = 1; i <= 13; i++) {
            const episodeNumberDiv = document.createElement('div');
            episodeNumberDiv.className = 'episode-number';
            episodeNumberDiv.textContent = i;
            episodeNumbersDiv.appendChild(episodeNumberDiv);
        }

        tableContainer.appendChild(episodeNumbersDiv);

        // Create HTML elements for each season
        seasonData.forEach((episodes, seasonNumber) => {
            const seasonDiv = document.createElement('div');
            seasonDiv.className = 'season';

            const seasonLabel = document.createElement('div');
            seasonLabel.className = 'season-label';
            seasonLabel.textContent = `Sezon ${seasonNumber}`;
            seasonDiv.appendChild(seasonLabel);

            episodes.forEach(episode => {
                const { episodeNumber, ratingValue } = episode;

                const episodeDiv = document.createElement('div');
                episodeDiv.className = `episode ${getRatingClass(ratingValue)}`;
                episodeDiv.textContent = ratingValue;
                seasonDiv.appendChild(episodeDiv);
            });

            tableContainer.appendChild(seasonDiv);
        });
    }


        // Call the function with your JSON data
        createTable(jsonData);
    </script>

</body>
</html>
